#ifndef	_APP_COREREG_H
#define	_APP_COREREG_H

#include "top_core_info.h"

typedef	struct{
	u32	waitTime;
	u8	errPos;
	u8	errCnt;
	u16	ch0ErrRef[3];
	u16	ch0ErrValue[3];
	u16 ch1ErrRef[3];
	u16 ch1ErrValue[3];
}coreRgbIfTest_t;

enum{
	CORE_SPI_MODE_IO_SHAKE = 0,
	CORE_SPI_MODE_MCU_FUNCTION,
};

enum{
	CORE_SPI_WRITE = 0,
	CORE_SPI_READ,
};

enum{
	CORE_MODE_CMD = 0,
	CORE_MODE_DATA,
};

enum{
	CORE_CMD_REG_PAGE_SEL								= 0x0000,
	CORE_CMD_VERSION									= 0x0001,
	CORE_CMD_ID											= 0x0002,
	CORE_CMD_TEST										= 0x0003,
	CORE_CMD_RESET										= 0x0004,

	CORE_CMD_FRAME_BUFFER_BANK_SELECT					= 0x0005,
	CORE_CMD_FRAME_BUFFER_READ_START					= 0x0006,
/*
	CORE_CMD_DDR_WRITE_ADRS_L							= 0x0005,
	CORE_CMD_DDR_WRITE_ADRS_H							= 0x0006,
	CORE_CMD_DDR_WRITE_START							= 0x0007,
	CORE_CMD_DDR_WRITE_DATA								= 0x0008,	// BUFFER
	CORE_CMD_DDR_READ_ADRS_L							= 0x0009,
	CORE_CMD_DDR_READ_ADRS_H							= 0x000a,
	CORE_CMD_DDR_READ_START								= 0x000b,
*/

	CORE_CMD_BUILD_DATE_H								= 0x0020,
	CORE_CMD_BUILD_DATE_L								= 0x0021,
	CORE_CMD_STATUS1_L									= 0x0022,
	CORE_CMD_STATUS1_H									= 0x0023,
	CORE_CMD_STATUS2_L									= 0x0024,
	CORE_CMD_STATUS2_H									= 0x0025,

	CORE_CMD_TE_INPUT_STATUS							= 0x0030,
	CORE_CMD_DEBUG_LED_OFF								= 0x0031,
	CORE_CMD_FPGA_MODEL									= 0x0032,
	

	CORE_CMD_EXT_RGB_INPUT_CTRL							= 0x0101,
	CORE_CMD_EXT_RGB_INPUT_FRAME_BUFFER_BANK_SELECT		= 0x0102,
	CORE_CMD_EXT_RGB_INPUT_ENABLE						= 0x0103,
/*
	CORE_CMD_EXT_RGB_INPUT_CTRL							= 0x0101,
	CORE_CMD_EXT_RGB_INPUT_FRAME_BUF_ADRS_L				= 0x0102,
	CORE_CMD_EXT_RGB_INPUT_FRAME_BUF_ADRS_H				= 0x0103,
	CORE_CMD_EXT_RGB_INPUT_ENABLE						= 0x0104,
*/

	CORE_CMD_OUTPUT_PG_CLK_CONFIG_1						= 0x0105,
	CORE_CMD_OUTPUT_PG_CLK_CONFIG_2						= 0x0106,
	CORE_CMD_OUTPUT_PG_CLK_RECONFIG						= 0x0107,
	CORE_CMD_OUTPUT_PG_VACT								= 0x0108,
	CORE_CMD_OUTPUT_PG_VSA								= 0x0109,
	CORE_CMD_OUTPUT_PG_VBP								= 0x010a,
	CORE_CMD_OUTPUT_PG_VFP								= 0X010b,
	CORE_CMD_OUTPUT_PG_HACT								= 0x010c,
	CORE_CMD_OUTPUT_PG_HSA								= 0x010d,
	CORE_CMD_OUTPUT_PG_HBP								= 0x010e,
	CORE_CMD_OUTPUT_PG_HFP								= 0X010f,
	CORE_CMD_OUTPUT_PG_CTRL								= 0x0110,
	CORE_CMD_OUTPUT_PG_TEST_PATTERN						= 0x0111,
	CORE_CMD_OUTPUT_PG_ENABLE							= 0x0112,

	CORE_CMD_DSC_CTRL_1									= 0x0201,
	CORE_CMD_DSC_OUTPUT_VACT							= 0x0202,
	CORE_CMD_DSC_OUTPUT_VSA								= 0x0203,
	CORE_CMD_DSC_OUTPUT_VBP								= 0x0204,
	CORE_CMD_DSC_OUTPUT_VFP								= 0x0205,	
	CORE_CMD_DSC_OUTPUT_HACT							= 0x0206,
	CORE_CMD_DSC_OUTPUT_HSA								= 0x0207,
	CORE_CMD_DSC_OUTPUT_HBP								= 0x0208,
	CORE_CMD_DSC_OUTPUT_HFP								= 0x0209,
	CORE_CMD_DSC_MODE_ENABLE							= 0x020a,

	CORE_CMD_DSI_CLK_CONFIG_1							= 0x0301,
	CORE_CMD_DSI_CLK_CONFIG_2							= 0x0302,
	CORE_CMD_DSI_CLK_CONFIG_3							= 0x0303,
	CORE_CMD_DSI_CLK_CONFIG_4							= 0x0304,
	CORE_CMD_DSI_CLK_CONFIG_5							= 0x0305,
	CORE_CMD_DSI_CLK_CH0_PHASE_L						= 0x0306,
	CORE_CMD_DSI_CLK_CH0_PHASE_H						= 0x0307,
	CORE_CMD_DSI_CLK_CH1_PHASE_L						= 0x0308,
	CORE_CMD_DSI_CLK_CH1_PHASE_H						= 0x0309,
	CORE_CMD_DSI_CLK_RECONFIG							= 0x030a,

	CORE_CMD_DSI_CONFIG_1								= 0x030b,
	CORE_CMD_DSI_CONFIG_2								= 0x030c,
	CORE_CMD_DSI_CONFIG_3								= 0x030d,
	CORE_CMD_DSI_TE_DELAY_L								= 0x030e,
	CORE_CMD_DSI_TE_DELAY_H								= 0x030f,
	CORE_CMD_DSI_HACT_BYTE_CNT							= 0x0310,
	CORE_CMD_DSI_HSA_BYTE_CNT							= 0x0311,
	CORE_CMD_DSI_HBP_BYTE_CNT							= 0x0312,
	CORE_CMD_DSI_HFP_BYTE_CNT							= 0x0313,
	CORE_CMD_DSI_ENABLE									= 0x0314,
	CORE_CMD_DSI_CMD_MODE_REFRESH						= 0x0315,

	CORE_CMD_DSI_TX_MODE								= 0x0316,
	CORE_CMD_DSI_WRITE_COMMAND							= 0x0317,	// BUFFER
	CORE_CMD_DSI_WRITE_DATA								= 0x0318,	// BUFFER
	CORE_CMD_DSI_TX_STATUS_0							= 0x0319,
	CORE_CMD_DSI_TX_STATUS_1							= 0x031a,
	CORE_CMD_DSI_READ_COMMAND							= 0x031b,	// BUFFER
	CORE_CMD_DSI_READ_DATA								= 0x031c,	// BUFFER
	CORE_CMD_DSI_RX_STATUS								= 0x031d,
	CORE_CMD_DSI_RCV_ECC_DATA							= 0x031e,
	CORE_CMD_DSI_RCV_CRC_DATA							= 0x031f,
	CORE_CMD_DSI_RCV_ERR_REPORT_L						= 0x0320,
	CORE_CMD_DSI_RCV_ERR_REPORT_H						= 0x0321,
	CORE_CMD_DSI_RX_ERR_STATUS							= 0x0322,
	CORE_CMD_DSI_BTA_ACTION								= 0x0323,
	CORE_CMD_DSI_MANUAL_PACKET_TX1						= 0x0324,
	CORE_CMD_DSI_MANUAL_PACKET_TX2						= 0x0325,
	CORE_CMD_DSI_MANUAL_PACKET_TX3						= 0x0326,
	CORE_CMD_DSI_INSERT_SOT_ERR							= 0x0327,

	CORE_CMD_DSI_TIMING_LP_1							= 0x0328,
	CORE_CMD_DSI_TIMING_LP_2							= 0x0329,
	CORE_CMD_DSI_TIMING_CLK_1							= 0x032a,
	CORE_CMD_DSI_TIMING_CLK_2							= 0x032b,
	CORE_CMD_DSI_TIMING_DATA_1							= 0x032c,
	CORE_CMD_DSI_TIMING_DATA_2							= 0x032d,
	CORE_CMD_DSI_TIMING_CTRL_1							= 0x032e,
	CORE_CMD_DSI_TIMING_CTRL_2							= 0x032f,
	CORE_CMD_DSI_TIMING_CTRL_3							= 0x0330,
	CORE_CMD_DSI_TIMEOUT_CNT_1							= 0x0331,	
	CORE_CMD_DSI_TIMEOUT_CNT_2 							= 0x0332,
	CORE_CMD_DSI_TIMEOUT_CNT_3 							= 0x0333,
	CORE_CMD_DSI_TIMEOUT_CNT_4 							= 0x0334,
	CORE_CMD_DSI_TIMEOUT_CNT_5 							= 0x0335,

	CORE_CMD_DSI_SKEW_CTRL_CH0_CLK						= 0x0336,
	CORE_CMD_DSI_SKEW_CTRL_CH0_DATA_0					= 0x0337,
	CORE_CMD_DSI_SKEW_CTRL_CH0_DATA_1					= 0x0338,
	CORE_CMD_DSI_SKEW_CTRL_CH0_DATA_2					= 0x0339,
	CORE_CMD_DSI_SKEW_CTRL_CH0_DATA_3					= 0x033a,
	CORE_CMD_DSI_SKEW_CTRL_CH1_CLK						= 0x033b,
	CORE_CMD_DSI_SKEW_CTRL_CH1_DATA_0					= 0x033c,
	CORE_CMD_DSI_SKEW_CTRL_CH1_DATA_1					= 0x033d,
	CORE_CMD_DSI_SKEW_CTRL_CH1_DATA_2					= 0x033e,
	CORE_CMD_DSI_SKEW_CTRL_CH1_DATA_3					= 0x033f,
	CORE_CMD_DSI_SKEW_CTRL_RESET_UPDATE					= 0x0340,
	CORE_CMD_DSI_PHY_CTRL_IO							= 0x0341,

	CORE_CMD_DSC_PPS_LINEBUF_DEPTH						= 0x0401,
	CORE_CMD_DSC_PPS_INPUT_BPC							= 0x0402,
	CORE_CMD_DSC_PPS_CONVERT_RGB						= 0x0403,
	CORE_CMD_DSC_PPS_SLICE_WIDTH						= 0x0404,
	CORE_CMD_DSC_PPS_SLICE_HEIGHT						= 0x0405,
	CORE_CMD_DSC_PPS_ENABLE_422							= 0x0406,
	CORE_CMD_DSC_PPS_PICTURE_WIDTH						= 0x0407,
	CORE_CMD_DSC_PPS_PICTURE_HEIGHT						= 0x0408,
	CORE_CMD_DSC_PPS_RC_TGT_OFFSET_HI					= 0x0409,
	CORE_CMD_DSC_PPS_RC_TGT_OFFSET_LO					= 0x040a,
	CORE_CMD_DSC_PPS_BITS_PER_PIXEL						= 0x040b,
	CORE_CMD_DSC_PPS_RC_EDGE_FACTOR						= 0x040c,
	CORE_CMD_DSC_PPS_RC_QUANT_INCR_LIMIT1				= 0x040d,
	CORE_CMD_DSC_PPS_RC_QUANT_INCR_LIMIT0				= 0x040e,
	CORE_CMD_DSC_PPS_INITIAL_XMIT_DELAY					= 0x040f,
	CORE_CMD_DSC_PPS_INITIAL_DEC_DELAY					= 0x0410,
	CORE_CMD_DSC_PPS_BLOCK_PRED_ENABLE					= 0x0411,
	CORE_CMD_DSC_PPS_FIRST_LINE_BPG_OFFSET				= 0x0412,
	CORE_CMD_DSC_PPS_INITIAL_OFFSET						= 0x0413,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_0					= 0x0414,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_1					= 0x0415,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_2					= 0x0416,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_3					= 0x0417,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_4					= 0x0418,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_5					= 0x0419,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_6					= 0x041a,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_7					= 0x041b,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_8					= 0x041c,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_9					= 0x041d,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_10					= 0x041e,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_11					= 0x041f,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_12					= 0x0420,
	CORE_CMD_DSC_PPS_RC_BUF_THRESH_13					= 0x0421,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_0						= 0x0422,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_0						= 0x0423,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_0					= 0x0424,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_1						= 0x0425,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_1						= 0x0426,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_1					= 0x0427,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_2						= 0x0428,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_2						= 0x0429,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_2					= 0x042a,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_3						= 0x042b,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_3						= 0x042c,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_3					= 0x042d,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_4						= 0x042e,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_4						= 0x042f,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_4					= 0x0430,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_5						= 0x0431,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_5						= 0x0432,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_5					= 0x0433,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_6						= 0x0434,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_6						= 0x0435,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_6					= 0x0436,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_7						= 0x0437,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_7						= 0x0438,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_7					= 0x0439,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_8						= 0x043a,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_8						= 0x043b,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_8					= 0x043c,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_9						= 0x043d,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_9						= 0x043e,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_9					= 0x043f,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_10					= 0x0440,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_10					= 0x0441,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_10				= 0x0442,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_11					= 0x0443,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_11					= 0x0444,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_11				= 0x0445,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_12					= 0x0446,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_12					= 0x0447,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_12				= 0x0448,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_13					= 0x0449,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_13					= 0x044a,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_13				= 0x044b,
	CORE_CMD_DSC_PPS_RANGE_MIN_QP_14					= 0x044c,
	CORE_CMD_DSC_PPS_RANGE_MAX_QP_14					= 0x044d,
	CORE_CMD_DSC_PPS_RANGE_BPG_OFFSET_14				= 0x044e,
	CORE_CMD_DSC_PPS_RC_MODEL_SIZE						= 0x044f,
	CORE_CMD_DSC_PPS_FLATNESS_MIN_QP					= 0x0450,
	CORE_CMD_DSC_PPS_FLATNESS_MAX_QP					= 0x0451,
	CORE_CMD_DSC_PPS_FLATNESS_DET_THRESH				= 0x0452,
	CORE_CMD_DSC_PPS_INITIAL_SCALE_VALUE				= 0x0453,
	CORE_CMD_DSC_PPS_SCALE_DEC_INTERVAL					= 0x0454,
	CORE_CMD_DSC_PPS_SCALE_INC_INTERVAL					= 0x0455,
	CORE_CMD_DSC_PPS_NFL_BPG_OFFSET						= 0x0456,
	CORE_CMD_DSC_PPS_SLICE_BPG_OFFSET					= 0x0457,
	CORE_CMD_DSC_PPS_FINAL_OFFSET						= 0x0458,
	CORE_CMD_DSC_PPS_CHUNK_SIZE							= 0x0459,

	CORE_CMD_RGB_IF_TEST_ENABLE							= 0x0501,
	CORE_CMD_RGB_IF_ERROR_STATUS						= 0x0502,
	CORE_CMD_RGB_IF_ERR_REF_CH1_R						= 0x0503,
	CORE_CMD_RGB_IF_ERR_VALUE_CH1_R						= 0x0504,
	CORE_CMD_RGB_IF_ERR_REF_CH1_G						= 0x0505,
	CORE_CMD_RGB_IF_ERR_VALUE_CH1_G						= 0x0506,
	CORE_CMD_RGB_IF_ERR_REF_CH1_B						= 0x0507,
	CORE_CMD_RGB_IF_ERR_VALUE_CH1_B						= 0x0508,
	CORE_CMD_RGB_IF_ERR_REF_CH0_R						= 0x0509,
	CORE_CMD_RGB_IF_ERR_VALUE_CH0_R						= 0x050a,
	CORE_CMD_RGB_IF_ERR_REF_CH0_G						= 0x050b,
	CORE_CMD_RGB_IF_ERR_VALUE_CH0_G						= 0x050c,
	CORE_CMD_RGB_IF_ERR_REF_CH0_B						= 0x050d,
	CORE_CMD_RGB_IF_ERR_VALUE_CH0_B						= 0x050e,
};

enum{
	CORE_MODEL_KINTEX_ULTRASCALE			= 0x5500,
	CORE_MODEL_KINTEX_7						= 0x4b37,
};

void Core_GpioInit();
void Core_PageInit();
void Core_Init();
void Core_SpiCsCtrl(u8 data);
void Core_SpiSckCtrl(u8 data);
void Core_SpiMosiCtrl(u8 data);
u8 Core_SpiMisoRead();
void Core_SpiDelay(u32 data);
void Core_SpiWrite(u8 mode, u8 data);
u8 Core_SpiRead();
void Core_SpiWriteByte(u8 cmd, u8 *pData, u16 length);
void Core_SpiReadByte(u8 cmd, u8 *pData, u16 length);
void Core_SpiWriteHWord(u8 cmd, u16 *pData, u16 length);
void Core_SpiReadHWord(u8 cmd, u16 *pData, u16 length);
void Core_SpiWriteWord(u8 cmd, u32 *pData, u16 length);
void Core_SpiReadWord(u8 cmd, u32 *pData, u16 length);
void Core_RegWrite(u16 cmd, u16 *pData, u16 length);
void Core_RegRead(u16 cmd, u16 *pData, u16 length);
void Core_RegWriteSingle(u16 cmd, u16 data);
u16 Core_RegReadSingle(u16 cmd);
void Core_BufferWrite(u16 cmd, u32 *pData, u16 length);
void Core_BufferRead(u16 cmd, u32 *pData, u16 length);
void Core_BufferWriteSingle(u16 cmd, u32 data);
u32 Core_BufferReadSingle(u16 cmd);
void Core_Reset();
void Core_ConfigClock(u32 clk);
void Core_PixelClockConfig(u32 clk);
void Core_DsiDatarateConfig(u32 datarate, double *pPhase);
void Core_VideoInputConfig(void *pVoid);
void Core_ConfigVideo_DSI(void *pInput);
void Core_PTGEnable();
void Core_PTGDisable();
void Core_ColorOrder_RGB();
void Core_ColorOrder_BGR();
void Core_OutputColorDepth_8Bit();
void Core_OutputColorDepth_10Bit();
void Core_SpiWriteArray(u8 mode, u8 *pData, u32 length);
u8 Core_RgbInterfaceTest(void *pVoid);
void Core_DebugLedCtrl(u8 data);
void Core_StatusCntClear();
u8 Core_GetStatusCnt(u8 pos, checkCount_t *pData);
u8 Core_StatusCompare(u8 pos, u32 data);

#endif	// _APP_COREREG_H
